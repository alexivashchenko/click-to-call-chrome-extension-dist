"use strict";chrome.runtime.onInstalled.addListener((function(){async function e(e){let t=await new Promise((e,t)=>{chrome.storage.local.get("settings",(function(n){void 0!==n.settings&&((n=n.settings).server?e(n.server):t("Settings Server not found"))}))}),n=await(o=t,new Promise((e,t)=>{chrome.tabs.query({},(function(n){n.forEach((function(t){t.url.includes(o)&&e(t)})),t("FOP2 tab was not found")}))}));var o;chrome.tabs.get(n.id,(function(t){chrome.tabs.executeScript(t.id,{code:'console.log("External dial: ", '+e+");location.href=\"javascript:dial('"+e+"');\""})}))}chrome.storage.local.clear(),chrome.storage.local.set({settings:{}},(function(){})),chrome.runtime.onMessage.addListener((async function(t,n,o){return t&&"dialPhone"==t.type&&(e(t.data),o("success")),!0}))}));